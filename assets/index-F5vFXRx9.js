import{d as R,aH as p,b as C,a0 as x,c as H,w as M,aO as W,_ as c,aa as _}from"./index-trPnz5BS.js";import{i as B}from"./ResizeObserver.es-B1PUzC5B.js";const U=R({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(i,v){let{slots:l}=v;const n=p({width:0,height:0,offsetHeight:0,offsetWidth:0});let h=null,s=null;const a=()=>{s&&(s.disconnect(),s=null)},b=e=>{const{onResize:t}=i,o=e[0].target,{width:O,height:w}=o.getBoundingClientRect(),{offsetWidth:d,offsetHeight:f}=o,g=Math.floor(O),u=Math.floor(w);if(n.width!==g||n.height!==u||n.offsetWidth!==d||n.offsetHeight!==f){const m={width:g,height:u,offsetWidth:d,offsetHeight:f};c(n,m),t&&Promise.resolve().then(()=>{t(c(c({},m),{offsetWidth:d,offsetHeight:f}),o)})}},z=_(),r=()=>{const{disabled:e}=i;if(e){a();return}const t=W(z);t!==h&&(a(),h=t),!s&&t&&(s=new B(b),s.observe(t))};return C(()=>{r()}),x(()=>{r()}),H(()=>{a()}),M(()=>i.disabled,()=>{r()},{flush:"post"}),()=>{var e;return(e=l.default)===null||e===void 0?void 0:e.call(l)[0]}}});export{U as R};
